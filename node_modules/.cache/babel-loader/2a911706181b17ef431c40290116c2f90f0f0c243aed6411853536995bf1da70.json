{"ast":null,"code":"// src/App.js\nimport React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{AuthContext}from'./context/AuthContext';import Navbar from'./components/Navbar';import Home from'./pages/Home';import WorkerDashboard from'./pages/WorkerDashboard';import ClientDashboard from'./pages/ClientDashboard';import Login from'./components/Login';import RegisterWorker from'./components/RegisterWorker';import RequestService from'./components/RequestService';import ResetPassword from'./components/ResetPassword';import Chat from'./components/Chat';import NotFound from'./pages/NotFound';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register-worker\",element:/*#__PURE__*/_jsx(RegisterWorker,{})}),/*#__PURE__*/_jsx(Route,{path:\"/request-service\",element:/*#__PURE__*/_jsx(ProtectedRoute,{role:\"client\",children:/*#__PURE__*/_jsx(RequestService,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/worker-dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{role:\"worker\",children:/*#__PURE__*/_jsx(WorkerDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/client-dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{role:\"client\",children:/*#__PURE__*/_jsx(ClientDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/chat/:chatId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Chat,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/reset-password\",element:/*#__PURE__*/_jsx(ResetPassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})]});};const ProtectedRoute=_ref=>{let{role,children}=_ref;const{user,loading}=React.useContext(AuthContext);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(!user)return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});if(role&&user.role!==role)return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});return children;};export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","AuthContext","Navbar","Home","WorkerDashboard","ClientDashboard","Login","RegisterWorker","RequestService","ResetPassword","Chat","NotFound","jsx","_jsx","jsxs","_jsxs","App","children","path","element","ProtectedRoute","role","_ref","user","loading","useContext","to"],"sources":["/Users/macm1/Documents/JobSkill-App/frontend/src/App.js"],"sourcesContent":["// src/App.js\nimport React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthContext } from './context/AuthContext';\nimport Navbar from './components/Navbar';\nimport Home from './pages/Home';\nimport WorkerDashboard from './pages/WorkerDashboard';\nimport ClientDashboard from './pages/ClientDashboard';\nimport Login from './components/Login';\nimport RegisterWorker from './components/RegisterWorker';\nimport RequestService from './components/RequestService';\nimport ResetPassword from './components/ResetPassword';\nimport Chat from './components/Chat';\nimport NotFound from './pages/NotFound';\n\nconst App = () => {\n  return (\n    <Router>\n      <Navbar />\n      <Routes>\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/login\" element={<Login />} />\n        <Route path=\"/register-worker\" element={<RegisterWorker />} />\n        <Route path=\"/request-service\" element={<ProtectedRoute role=\"client\"><RequestService /></ProtectedRoute>} />\n        <Route path=\"/worker-dashboard\" element={<ProtectedRoute role=\"worker\"><WorkerDashboard /></ProtectedRoute>} />\n        <Route path=\"/client-dashboard\" element={<ProtectedRoute role=\"client\"><ClientDashboard /></ProtectedRoute>} />\n        <Route path=\"/chat/:chatId\" element={<ProtectedRoute><Chat /></ProtectedRoute>} />\n        <Route path=\"/reset-password\" element={<ResetPassword />} />\n        <Route path=\"*\" element={<NotFound />} />\n      </Routes>\n    </Router>\n  );\n};\n\nconst ProtectedRoute = ({ role, children }) => {\n  const { user, loading } = React.useContext(AuthContext);\n\n  if (loading) return <div>Loading...</div>;\n  if (!user) return <Navigate to=\"/login\" />;\n  if (role && user.role !== role) return <Navigate to=\"/\" />;\n  return children;\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}